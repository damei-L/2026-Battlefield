1.支付链路：用户 -> 收银台 -> 支付网关 -> 银行/第三方支付 -> 清算/结算。
用户点击支付
     ↓
收银台（选择支付方式，收集信息）
     ↓
支付网关（路由、风控、格式转换）
     ↓
银行/第三方支付（验证、扣款）
     ↓
返回支付成功通知 ←───────────┐
     ↓                          │
（用户端交易完成）              │
                              │（后台异步处理）
                              ↓
每日终了：清算（对账、算净额）
     ↓
结算日（T+1）：资金实际划拨
     ↓
商户银行账户到账


2.对账：为什么每天都要对账？资金账和交易账对不平会怎样？

及时发现错误:每日对账能快速定位当日交易中的记账失误、系统故障或人为操作偏差，避免问题累积后难以追溯。
防范资金风险:可及时发现挪用、盗窃等异常资金变动，保障资金安全。
，保障数据准确性:确保交易记录与资金余额一致，为后续财务核算、报表生成提供可靠数据。
满足监管要求:金融、支付等行业的监管规则通常要求每日对账，以保证业务合规性。

影响财务数据可信度:会导致财务报表失真，无法真实反映企业的资金状况和经营成果。
增加风险隐患:可能隐藏资金流失、交易欺诈等问题，若长期未解决，会引发更大的资金损失。
阻碍业务正常运转:对账不平会导致结算、清算流程停滞，影响客户资金到账、商户收款等业务环节。
面临合规处罚:对于金融机构，监管部门会因对账异常而启动检查，情节严重时会处以罚款或暂停业务。


3.账务：什么是借记、贷记？什么是会计日期？

借记(Debit):会计记账中，借记是资产、成本、费用类科目的增加，或负债、所有者权益、收入类科目的减少。例如，企业用银行存款购买设备时，"银行存款"科目记借方(表示资产减少)。
贷记(Credit):贷记是负债、所有者权益、收入类科目的增加，或资产、成本、费用类科目的减少。例如，企业销售商品获得收入时，"主营业务收入"科目记贷方(表示收入增加)。
简单来说，"借"和"贷"是复式记账法的符号，核心遵循"有借必有贷，借贷必相等"的规则，用于反映资金的来龙去脉。

会计日期是指会计核算中用于界定账务归属期的日期，通常包括:
交易日期:业务实际发生的日期，比如客户付款的当日。
。记账日期:财务人员将交易录入系统的日期。
起息日/结算日:金融业务中，用于计算利息、确认资金权责发生的日期。
它的作用是统一账务的时间口径，确保收入、费用等按权责发生制准确计入对应会计期间，是保证财务报表准确性的基础。


4.一笔网购支付，从你点击付款到收到成功提示，中间大致经历了哪几个关键系统？（参考链路图描述）
<img width="3616" height="653" alt="deepseek_mermaid_20260126_777742" src="https://github.com/user-attachments/assets/e9b1651d-3e76-40be-b7c1-211b45c37d3e" />


5.你所理解的“支付”、“清算”、“结算”三个词，有什么不同？

它们环环相扣，但职责和发生的阶段完全不同。可以这样形象地理解：
支付是“交易指令”，清算是“算账过程”，结算是“最终转账”。
<img width="2238" height="2006" alt="deepseek_mermaid_20260126_627ba2" src="https://github.com/user-attachments/assets/dff3c935-9773-4aee-89ef-e092d18717bb" />






# 金融领域知识 - 测试工程师视角

## 一、支付链路核心角色与测试关注点
（请根据你的调研，用一两句话描述每个角色，并思考作为测试人员该关注什么）
核心角色：用户/商户、收单机构、清算机构、发卡行、结算
用户/商户：支付界面的用户体验、各种异常操作（重复点击、中断）。
收单机构：支付成功，商户侧是否即时、准确收到通知？
清算机构：它计算出的应收应付金额，是否与所有参与方的记录完全吻合？
发卡行：扣款是否经过正确授权？余额不足等异常处理是否合规？
结算：结算是否在清算完成后？结算金额是否与清算结果一致？

| 角色 | 它是什么？（简单理解） | 测试工程师最该关心什么？（风险点） |
| :--- | :--- | :--- |
| **用户/商户** | 发起支付请求的一方。 | 支付界面的用户体验、各种异常操作（重复点击、中断）。 |
| **收单机构** | 帮助商户接收资金的机构（如支付公司、银行）。 | **交易状态同步**：支付成功，商户侧是否即时、准确收到通知？ |
| **清算机构** | （如网联/银联）负责算账，告诉谁该给谁多少钱。 | **数据准确性**：它计算出的应收应付金额，是否与所有参与方的记录完全吻合？ |
| **发卡行** | 用户银行卡的发卡银行。 | **资金安全与授权**：扣款是否经过正确授权？余额不足等异常处理是否合规？ |
| **结算** | 最终完成资金划拨的动作。 | **时序与一致性**：结算是否在清算完成后？结算金额是否与清算结果一致？ |

## 二、核心概念辨析（用自己的话重写）
*   **支付 vs 清算 vs 结算**：
    *   **支付**：我付钱给你这个**动作**和**过程**。
    *   **清算**：第三方（如银联）在后台**计算**今天我一共该给你多少钱，你该给银行多少钱。是**算账**。
    *   **结算**：算完账后，银行**实际把钱划过去**。是**搬钱**。
*   **为什么必须每日对账？**
    > （请用一个比喻回答）就像小卖部每天关门后，老板必须核对收银机里的现金和销售记录是否一致，否则一笔错账可能永远找不到，漏洞会越来越大。金融系统涉及海量资金，对账是发现数据差错、防止资金损失的**最后一道防火墙**。

## 三、待解问题清单（未来一周逐步攻克）
1.  一个完整的“支付成功”状态，在链路中各系统间是如何一步步传递和同步的？
2.  常见的支付测试用例有哪些？（如：中途断网、重复支付、余额不足）
